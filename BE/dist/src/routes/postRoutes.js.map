{"version":3,"file":"postRoutes.js","sourceRoot":"","sources":["../../../src/routes/postRoutes.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,EACL,YAAY,EACZ,UAAU,EACV,WAAW,EACX,UAAU,EACV,UAAU,EACV,WAAW,EACX,YAAY,GACb,MAAM,kCAAkC,CAAC;AAC1C,OAAO,EAAE,OAAO,EAAE,MAAM,kCAAkC,CAAC;AAC3D,wFAAwF;AACxF,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,+BAA+B,CAAC,CAAC,gBAAgB;AAEtF,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAExB,mDAAmD;AACnD,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;AAE1C,4BAA4B;AAC5B,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;AAE5E,iCAAiC;AACjC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;AAE9E,gCAAgC;AAChC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;AAE3C,kCAAkC;AAClC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;AAE7B,+BAA+B;AAC/B,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;AAErC,uCAAuC;AAEvC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;AAChC,eAAe,MAAM,CAAC","sourcesContent":["import { Router } from \"express\";\r\nimport {\r\n  getUserPosts,\r\n  createPost,\r\n  getPostById,\r\n  updatePost,\r\n  deletePost,\r\n  getAllPosts,\r\n  explorePosts,\r\n} from '../controllers/postController.js';\r\nimport { protect } from '../middlewares/authMiddleware.js';\r\n// import { upload } from '../middlewares/uploadMiddleware'; // только upload, без sharp\r\nimport { upload, processImage } from \"../middlewares/uploadImage.js\"; //с оптимизацией\r\n\r\nconst router = Router();\r\n\r\n// /api/posts/user/:userId → все посты пользователя\r\nrouter.get('/user/:userId', getUserPosts);\r\n\r\n// /api/posts → создать пост\r\nrouter.post('/', protect, upload.single('image'), processImage, createPost);\r\n\r\n// /api/posts/:id → обновить пост\r\nrouter.put('/:id', protect, upload.single('image'), processImage, updatePost);\r\n\r\n// /api/posts/:id → удалить пост\r\nrouter.delete('/:id', protect, deletePost);\r\n\r\n// /api/posts → получить все посты\r\nrouter.get('/', getAllPosts);\r\n\r\n// /api/posts/explore → explore\r\nrouter.get('/explore', explorePosts);\r\n\r\n// /api/posts/:id → получить пост по id\r\n\r\nrouter.get('/:id', getPostById);\r\nexport default router;\r\n"]}