{"version":3,"file":"searchController.js","sourceRoot":"","sources":["../../../src/controllers/searchController.ts"],"names":[],"mappings":"AACA,OAAO,IAAI,MAAM,wBAAwB,CAAC;AAE1C,MAAM,CAAC,MAAM,WAAW,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAiB,EAAE;IAC9E,IAAI,CAAC;QACH,MAAM,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;QAC5B,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;YACjE,OAAM;QACR,CAAC;QAED,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC;YAC5B,GAAG,EAAE;gBACH,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE;gBAC9C,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE;aAC/C;SACF,CAAC,CAAC,MAAM,CAAC,iCAAiC,CAAC,CAAC;QAC7C,+BAA+B;QAE/B,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAClB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC,CAAC;IACvE,CAAC;AACH,CAAC,CAAC","sourcesContent":["import { Request, Response } from \"express\";\r\nimport User from \"../models/UserModel.js\";\r\n\r\nexport const searchUsers = async (req: Request, res: Response): Promise<void> => {\r\n  try {\r\n    const { query } = req.query;\r\n    if (!query) {\r\n      res.status(400).json({ message: \"Запрос не может быть пустым\" });\r\n      return\r\n    }\r\n \r\n    const users = await User.find({\r\n      $or: [\r\n        { username: { $regex: query, $options: \"i\" } },\r\n        { fullName: { $regex: query, $options: \"i\" } },\r\n      ],\r\n    }).select(\"username fullName profile_image\");\r\n    // .limit(20); //можно добавить\r\n\r\n    res.json(users);\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Ошибка при поиске пользователей\" });\r\n  }\r\n};"]}